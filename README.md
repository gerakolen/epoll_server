# Epoll сервер на C

- Компиляция сервера: `gcc -std=gnu99 -Wall -O3 -g -DNDEBUG -pthread utils.c server.c -o server -lpthread -pthread`
- Подключение клиентов: `python3 clients.py -n 3 localhost 8080`

# Теоретическая справка

epoll - это механизм ввода-вывода, используемый в ядре Linux для эффективного мониторинга изменений в состоянии файловых дескрипторов. Он обеспечивает асинхронную мультиплексацию ввода-вывода и является одним из основных способов обработки сетевых событий в Linux.

epoll имеет три режима работы: уровень приоритета (EPOLLPRI), граничное условие ввода-вывода (EPOLLET) и возможность одновременного ожидания нескольких событий на одном файловом дескрипторе (EPOLLEXCLUSIVE). Это позволяет разработчикам эффективно обрабатывать ввод-вывод в реальном времени с минимальной задержкой и нагрузкой на систему.

Вместо использования набора файловых дескрипторов epoll_wait заполняет буфер событиями, которые в данный момент готовы к обработке.

Особенность epoll заключается в том, что в буфер добавляются только готовые события, поэтому нет необходимости перебирать все просматриваемые в данный момент файловые дескрипторы в клиенте. Этот механизм позволяет оптимизировать проверку готовности клиентов с O(N) в случае использования select до O(1).

# Список литературы

- https://man7.org/linux/man-pages/man7/epoll.7.html
- https://habr.com/ru/articles/416669/
- https://idea.popcount.org/2017-01-06-select-is-fundamentally-broken/
- https://idea.popcount.org/2017-02-20-epoll-is-fundamentally-broken-12/
- https://idea.popcount.org/2017-03-20-epoll-is-fundamentally-broken-22/
- https://github.com/libevent/libevent/blob/master/epoll.c
- https://github.com/torvalds/linux/blob/master/fs/eventpoll.c